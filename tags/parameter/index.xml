<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>parameter` on GGfu Personal Study - 學習筆記</title><link>https://ggfu0114.github.io/tags/parameter/</link><description>Recent content in parameter` on GGfu Personal Study - 學習筆記</description><generator>Hugo -- gohugo.io</generator><language>zh-tw</language><lastBuildDate>Sun, 06 Mar 2022 00:00:00 +0000</lastBuildDate><atom:link href="https://ggfu0114.github.io/tags/parameter/index.xml" rel="self" type="application/rss+xml"/><item><title>Deploy s3 bucket by cloudformation - 進階版</title><link>https://ggfu0114.github.io/posts/deploy-s3-bucket-by-cloudformation-%E9%80%B2%E9%9A%8E%E7%89%88/</link><pubDate>Sun, 06 Mar 2022 00:00:00 +0000</pubDate><guid>https://ggfu0114.github.io/posts/deploy-s3-bucket-by-cloudformation-%E9%80%B2%E9%9A%8E%E7%89%88/</guid><description>Deploy s3 bucket by cloudformation - 進階版 開發系統時部分的程式碼會參考到基礎建設的名稱，例如：S3 bucket自動部署創建出來的名稱，或是需要利用aws resource arn去做trigger lambda事件的綁定，都需要輸出佈建後的結果。 { &amp;#34;AWSTemplateFormatVersion&amp;#34;: &amp;#34;2010-09-09&amp;#34;, &amp;#34;Description&amp;#34;: &amp;#34;Create S3 bucket on AWS&amp;#34;, &amp;#34;Parameters&amp;#34;: { &amp;#34;StageName&amp;#34;: { &amp;#34;Type&amp;#34;: &amp;#34;String&amp;#34; } }, &amp;#34;Resources&amp;#34;: { &amp;#34;S3Test&amp;#34;: { &amp;#34;Type&amp;#34;: &amp;#34;AWS::S3::Bucket&amp;#34;, &amp;#34;Properties&amp;#34;: { &amp;#34;BucketName&amp;#34;: { &amp;#34;Fn::Sub&amp;#34;: [ &amp;#34;paul-test-${StageName}&amp;#34;, { &amp;#34;StageName&amp;#34;: { &amp;#34;Ref&amp;#34;: &amp;#34;StageName&amp;#34; } } ] }, &amp;#34;AccessControl&amp;#34;: &amp;#34;PublicReadWrite&amp;#34;, &amp;#34;CorsConfiguration&amp;#34;: { &amp;#34;CorsRules&amp;#34;: [ { &amp;#34;AllowedHeaders&amp;#34;: [ &amp;#34;*&amp;#34; ], &amp;#34;AllowedMethods&amp;#34;: [ &amp;#34;GET&amp;#34; ], &amp;#34;AllowedOrigins&amp;#34;: [ &amp;#34;*&amp;#34; ], &amp;#34;ExposedHeaders&amp;#34;: [ &amp;#34;Date&amp;#34; ], &amp;#34;Id&amp;#34;: &amp;#34;myCORSRuleId1&amp;#34;, &amp;#34;MaxAge&amp;#34;: &amp;#34;3600&amp;#34; } ] } } } }, &amp;#34;Outputs&amp;#34;: { &amp;#34;S3Test&amp;#34;: { &amp;#34;Description&amp;#34;: &amp;#34;Information about s3 bucket name&amp;#34;, &amp;#34;Value&amp;#34;: { &amp;#34;Fn::Sub&amp;#34;: [ &amp;#34;paul-test-${StageName}&amp;#34;, { &amp;#34;StageName&amp;#34;: { &amp;#34;Ref&amp;#34;: &amp;#34;StageName&amp;#34; } } ] }, &amp;#34;Export&amp;#34;: { &amp;#34;Name&amp;#34;: { &amp;#34;Fn::Sub&amp;#34;: [ &amp;#34;${StackName}-S3Test-bucketname&amp;#34;, { &amp;#34;StackName&amp;#34;: { &amp;#34;Ref&amp;#34;: &amp;#34;AWS::StackName&amp;#34; } } ] } } } } } Fn::Sub: 代表字串裡的變數，可用接下來的變數給取代。當字串不需要有變數取代時，可以簡單的利用{ &amp;quot;Fn::Sub&amp;quot; : String }描述即可。需要由變數替換的模板為{ &amp;quot;Fn::Sub&amp;quot; : [ String, { Var1Name: Var1Value, Var2Name: Var2Value } ] }。</description></item></channel></rss>