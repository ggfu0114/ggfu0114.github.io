<!doctype html><html lang=zh-tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>AWS api-getway 客製化的 Domain Name | GGfu Personal Study - 學習筆記</title><meta name=viewport content="width=device-width,minimum-scale=1"><meta name=description content="利用AWS的serverless服務開發 httpserver的情況下，很常會使用(Lambda+Apigateway)的服務，通常會用api-getway去當url route的服務"><meta name=generator content="Hugo 0.100.2"><meta name=robots content="noindex, nofollow"><link rel=stylesheet href=/ananke/css/main.min.css><meta property="og:title" content="AWS api-getway 客製化的 Domain Name"><meta property="og:description" content="利用AWS的serverless服務開發 httpserver的情況下，很常會使用(Lambda+Apigateway)的服務，通常會用api-getway去當url route的服務"><meta property="og:type" content="article"><meta property="og:url" content="https://ggfu0114.github.io/posts/aws_api_getway_domain_name/"><meta property="article:section" content="posts"><meta itemprop=name content="AWS api-getway 客製化的 Domain Name"><meta itemprop=description content="利用AWS的serverless服務開發 httpserver的情況下，很常會使用(Lambda+Apigateway)的服務，通常會用api-getway去當url route的服務"><meta itemprop=wordCount content="55"><meta itemprop=keywords content="markdown,css,html,themes,"><meta name=twitter:card content="summary"><meta name=twitter:title content="AWS api-getway 客製化的 Domain Name"><meta name=twitter:description content="利用AWS的serverless服務開發 httpserver的情況下，很常會使用(Lambda+Apigateway)的服務，通常會用api-getway去當url route的服務"></head><body class="ma0 avenir bg-near-white"><header><div class=bg-black><nav class="pv3 ph3 ph4-ns" role=navigation><div class="flex-l justify-between items-center center"><a href=/ class="f3 fw2 hover-white no-underline white-90 dib">GGfu Personal Study - 學習筆記</a><div class="flex-l items-center"><ul class="pl0 mr3"><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white no-underline white-90" href=/articles/ title="Article page">Article</a></li></ul><div class=ananke-socials></div></div></div></nav></div></header><main class=pb7 role=main><article class="flex-l flex-wrap justify-between mw8 center ph3"><header class="mt4 w-100"><aside class="instapaper_ignoref b helvetica tracked">POSTS</aside><div id=sharing class="mt3 ananke-socials"></div><h1 class="f1 athelas mt3 mb1">AWS api-getway 客製化的 Domain Name</h1><p class=tracked>By <strong>GGFU</strong></p></header><div class="nested-copy-line-height lh-copy serif f4 nested-links mid-gray pr4-l w-two-thirds-l"><h1 id=aws-api-getway-custom-domain-name>AWS api-getway Custom Domain Name</h1><p>利用AWS的serverless服務開發 httpserver的情況下，很常會使用(Lambda+Apigateway)的服務，通常會用api-getway去當url route的服務。部屬成功時，api-getway都會給一組類似以下的網址，https://${api-id}.execute-api.region.amazonaws.com/stage ，因為網址有可能因為部署的需求而改變，所以如果想要制定自己的url名稱，就得使用api-getway裡面的custom domain name功能。</p><p>設定custom domain name分成以下幾個主要步驟</p><ol><li>申請AWS ACM(AWS Certificate Manager)服務</li><li>綁定ACM服務到api-gateway</li><li>將route53綁定到api-gateway產出的CDN網址</li></ol><blockquote><p>申請AWS ACM</p></blockquote><p>如果要使用custom domain name，我們得提供有效的SSL/TLS certificate保護我們的網址。ACM是AWS專門管理或產出SSL/TLS憑證的服務，需要在上面申請保護我們的url，請注意!!! 如果是因custom domain name而需申請ACM的話，請將申請區域調到 ==US East (N. Virginia)==
。<a href=http://docs.aws.amazon.com/acm/latest/userguide/>ACM</a></p><ul><li>申請的畫面會如下圖，如果想保護所有subdoamin可以用wildcard寫法，使用<em>號，例如：</em>.example.com
<img src=https://i.imgur.com/Kn8PBj3.png alt></li><li>申請結束後AWS會寄信給domain擁有人(基本上就是開發者)，要求是否同意授權保護此網址，只要點擊連結就會啟用服務。
<img src=https://i.imgur.com/cCFELkO.png alt></li></ul><blockquote><p>api-gateway綁定ACM</p></blockquote><ul><li>申請好ACM就可以將custom domain name綁定到api-getway上。填好要綁定的domain名稱，剛創建好的ACM服務，與選定mapping的api-getway即可。綁定的過程中會出現 <code>Target Domain Name</code> 這個就要最後一步要將route53指向的cloud front網址。</li></ul><p><img src=https://i.imgur.com/J7pznKF.png alt></p><blockquote><p>route53 綁定 cdn</p></blockquote><ul><li>登入進 route 53，為自己的domain建立一個A record，將target指向剛剛所產生的cloud front網址。
<img src=https://i.imgur.com/YbfKlFP.png alt></li></ul><p>以上步驟都完成時就可以使用自己所設定的domain name去存取server了。</p><ul class=pa0><li class="list di"><a href=/tags/markdown class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">markdown</a></li><li class="list di"><a href=/tags/css class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">css</a></li><li class="list di"><a href=/tags/html class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">html</a></li><li class="list di"><a href=/tags/themes class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">themes</a></li></ul><div class="mt6 instapaper_ignoref"></div></div><aside class="w-30-l mt6-l"></aside></article></main><footer class="bg-black bottom-0 w-100 pa3" role=contentinfo><div class="flex justify-between"><a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href=https://ggfu0114.github.io/>&copy; GGfu Personal Study - 學習筆記 2022</a><div><div class=ananke-socials></div></div></div></footer></body></html>