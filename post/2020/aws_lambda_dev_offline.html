
<head>
<title>Serverless offline 開發設定 - 基礎篇</title>
<meta charset="utf-8" />
<meta name="description" content="為了加速開發的效率，開發過程中不會想要每次都佈署到AWS做測試或開發。Serverless offline套件可以解決這件事情。透過模擬 AWS λ and API Gateway ，開發者在本機端就可以run一個的server去模擬再AWS服務的情況" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="author" content="GGFU" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/4.0.0/github-markdown.min.css" integrity="sha512-Oy18vBnbSJkXTndr2n6lDMO5NN31UljR8e/ICzVPrGpSud4Gkckb8yUpqhKuUNoE+o9gAb4O/rAxxw1ojyUVzg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.7.0/styles/github-gist.min.css" integrity="sha256-tAflq+ymku3Khs+I/WcAneIlafYgDiOQ9stIHH985Wo=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://ggfu0114.github.io/css/code_block.css"/>
</head>
<style>
	.markdown-body {
		box-sizing: border-box;
		min-width: 200px;
		max-width: 980px;
		margin: 0 auto;
		padding: 45px;
	}

	@media (max-width: 767px) {
		.markdown-body {
			padding: 15px;
		}
	}
</style>
<article class="markdown-body">
	<h1 id="serverless-offline-">Serverless offline 開發設定 - 基礎篇</h1>
<blockquote>
<p>說明</p>
</blockquote>
<p>為了加速開發的效率，開發過程中不會想要每次都佈署到AWS做測試或開發。Serverless offline套件可以解決這件事情。透過模擬 AWS λ and API Gateway ，開發者在本機端就可以run一個的server去模擬再AWS服務的情況。</p>
<blockquote>
<p>前置作業</p>
</blockquote>
<p>需要事先安裝過 serverless package<br />
<code>sudo npm install serverless -g</code><br />
安裝serverless offline套件<br />
<code>npm install serverless-offline --save-dev</code></p>
<blockquote>
<p>使用方法</p>
</blockquote>
<p>在原本專案的serverless.yml上添加程式碼</p>
<h4 id="plugins">plugins</h4>
<p>```xml=<br />
plugins:<br />
  - serverless-offline</p>
<div class="codehilite"><pre><span></span><code>#### server conf

將server在 3000 PORT 開啟; 開放所有的 IP 都可以存取
```xml=
custom:
  serverless-offline:
    host: &quot;0.0.0.0&quot;
    port: 3000
</code></pre></div>

<p>在Terminal上啟動 serverless offline server<br />
<code>serverless offline start</code><br />
接著就可以用各種工具去發出request做開發測試</p>
<p>:::danger</p>
<h4 id="api-request">執行API request出現錯誤</h4>
<p><code>javascript=
{
    "statusCode": 400,
    "error": "Bad Request",
    "message": "Invalid cookie value"
}</code><br />
- 經過測試，如果將IP綁在127.0.0.1或是沒有設定(系統預設為localhost)的話會出現access error，這個問題只要將 IP 綁在 0.0.0.0 然後 request 的 host 為指定 IP 就可以解決這個問題，ex : http://192.168.1.101/dev/test <br />
:::</p>
<h6 id="tags-aws-offline">tags: <code>AWS</code>, <code>offline</code></h6>
</article>
